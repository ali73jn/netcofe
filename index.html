<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ููุงุฑ ฺฉุงููุช - ูุฏุฑุช ูพุดุฑูุชู ุจูฺฉูุงุฑฺฉโูุง">
    <title>ููุงุฑ ฺฉุงููุช</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#007bff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="icons/default_icon.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.webmanifest">
    
    <!-- Styles -->
    <link rel="stylesheet" href="dashboard.css">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tahoma:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- ฺฉุชุงุจุฎุงูู ุชุงุฑุฎ ุดูุณ (Jalaali) -->
    <script src="https://cdn.jsdelivr.net/npm/jalaali-js@1.1.0/dist/jalaali-js.min.js"></script>
    
    <!-- ฺฉุชุงุจุฎุงูู ุชุงุฑุฎ ููุฑ (Hijri) -->
    <script src="https://cdn.jsdelivr.net/npm/hijri-date@1.0.3/lib/hijri-date.min.js"></script>
    
    <!-- ฺฉุชุงุจุฎุงูู ูุญุธู ุจุฑุง ูุฑูุชโุฏู -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment-jalaali@0.9.2/build/moment-jalaali.js"></script>
</head>
<body>
    
    <!-- ุขููุงู ุงูุฏฺฉุชูุฑ -->
    <div id="offline-indicator" class="offline-indicator hidden">
        ๐ ุญุงูุช ุขููุงู
    </div>
    
    <!-- ููุงุฑ ุฌุณุชุฌู -->
    <div id="search-container" class="search-container hidden">
        <input type="search" id="bookmark-search" placeholder="ุฌุณุชุฌู ุฏุฑ ุจูฺฉูุงุฑฺฉโูุง..." autocomplete="off">
        <button id="close-search" class="close-search">โ</button>
    </div>
    
    <!-- ฺฉุงูุชูุฑ ุงุตู -->
    <main id="grid-container">
        <!-- ูุญุชูุง ุจูฺฉูุงุฑฺฉโูุง ุงูุฌุง ููุงุด ุฏุงุฏู ูโุดูุฏ -->
    </main>

    <!-- ููู ฺฉูุชุฑู -->
    <div id="control-menu">
        <div id="sub-controls" class="hidden-controls">
            
            <button id="refresh-bookmarks-btn" class="sub-btn" title="ุจูโุฑูุฒุฑุณุงู ุจูฺฉูุงุฑฺฉโูุง">๐</button>
            
            <button id="set-background-btn" class="sub-btn" title="ุงูุชุฎุงุจ ูพุณ ุฒููู">๐ผ๏ธ</button>
            <button id="toggle-theme-btn" class="sub-btn" title="ุชุบุฑ ุญุงูุช ุชุงุฑฺฉ/ุฑูุดู">๐</button>
            <!--
            <button id="export-bookmarks-btn" class="sub-btn" title="ุฎุฑูุฌ ุจูฺฉูุงุฑฺฉโูุง">๐๐ค</button>
            <button id="import-bookmarks-btn" class="sub-btn" title="ูุฑูุฏ ุจูฺฉูุงุฑฺฉโูุง">๐๐ฅ</button>
            -->
            <button id="export-settings-btn" class="sub-btn" title="ุฎุฑูุฌ ุชูุธูุงุช">โ๏ธ๐ค</button>
            <button id="import-settings-btn" class="sub-btn" title="ูุฑูุฏ ุชูุธูุงุช">โ๏ธ๐ฅ</button>
            
        </div>
 
        <button id="search-btn" class="main-btn" title="ุฌุณุชุฌู">๐</button>
        <button id="edit-mode-btn" class="main-btn" title="ุญุงูุช ูุฑุงุด">โ๏ธ</button>
    </div>

    <!-- Inputูุง ูุงู ูุฎู -->
    <input type="file" id="import-settings-file" accept=".json" style="display: none;">
    <input type="file" id="import-bookmarks-file" accept=".json" style="display: none;">
    <input type="file" id="background-file-input" accept="image/*" style="display: none;">

    <!-- Modal ุชูุธูุงุช -->
    <div id="settings-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>ุชูุธูุงุช ูพุดุฑูุชู</h3>
            <div class="settings-section">
                <h4>ุธุงูุฑ</h4>
                <label>
                    <input type="checkbox" id="auto-dark-mode">
                    ุญุงูุช ุชุงุฑฺฉ ุฎูุฏฺฉุงุฑ
                </label>
                <label>
                    <input type="checkbox" id="compact-view">
                    ููุงุด ูุดุฑุฏู
                </label>
            </div>
            
            <div class="settings-section">
                <h4>ููฺฏุงูโุณุงุฒ</h4>
                <label>
                    ุขุฏุฑุณ JSON ุจูฺฉูุงุฑฺฉโูุง:
                    <input type="url" id="bookmarks-json-url" placeholder="https://raw.githubusercontent.com/...">
                </label>
                <button id="reset-bookmarks-url" class="btn-secondary">ุจุงุฒูุดุงู ุจู ูพุดโูุฑุถ</button>
            </div>
            
            <div class="settings-section">
                <h4>ุฏุงุฏูโูุง</h4>
                <button id="clear-cache-btn" class="btn-danger">ูพุงฺฉ ฺฉุฑุฏู ฺฉุด</button>
                <button id="reset-all-btn" class="btn-danger">ุจุงุฒูุดุงู ููู ุชูุธูุงุช</button>
            </div>
            
            <div class="modal-buttons">
                <button type="button" id="close-settings-btn" class="btn-secondary">ุจุณุชู</button>
                <button type="button" id="save-settings-btn" class="btn-success">ุฐุฎุฑู ุชูุธูุงุช</button>
            </div>
        </div>
    </div>
    
    <!-- ุงุณฺฉุฑูพุชโูุง -->
    <script src="dashboard.js"></script>
    
    <!-- ุซุจุช Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('Service Worker ุซุจุช ุดุฏ:', registration);
                    })
                    .catch(error => {
                        console.log('ุฎุทุง ุฏุฑ ุซุจุช Service Worker:', error);
                    });
            });
        }
        
        // ุชุดุฎุต ุญุงูุช ุขููุงู
        window.addEventListener('online', () => {
            document.getElementById('offline-indicator').classList.add('hidden');
        });
        
        window.addEventListener('offline', () => {
            document.getElementById('offline-indicator').classList.remove('hidden');
        });
    </script>
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</body>
</html>