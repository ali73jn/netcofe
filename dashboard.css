/* ------------------------------------------------------------------ */
/* ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§ÛŒÙ‡ (Base Settings) */
/* ------------------------------------------------------------------ */

html, body {
    overflow-x: hidden; /* Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ø§Ø± Ø§ÙÙ‚ÛŒ Ø¯Ø± Ú©Ù„ ØµÙØ­Ù‡ */
    margin: 0; padding: 0;
    font-family: 'Tahoma', sans-serif;
    direction: rtl; /* Ø¬Ù‡Øª Ø±Ø§Ø³Øª Ø¨Ù‡ Ú†Ù¾ */
    
    min-height: 100vh;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    transition: background-image 0.5s ease-in-out;
    overflow-y: auto; 
}

/* Ø´Ø¨Ú©Ù‡ Ú¯Ø±ÛŒØ¯ (Grid Container) */
#grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(10px, 1fr)); 
    grid-auto-rows: 10px;
    gap: 2px; /* ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ø³Ù„ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ú¯Ø±ÛŒØ¯ */
    padding: 10px;
    width: auto; 
    height: auto;
    min-height: 100vh; 
    box-sizing: border-box; 
}

/* ------------------------------------------------------------------ */
/* Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ (Card) */
/* ------------------------------------------------------------------ */

.bookmark-card {
    /* ğŸš¨ Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ Ø¨ÙˆØ¯Ù† Ø¨ÛŒØ´ØªØ± Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ */
    background-color: rgba(255, 255, 255, 0.5); /* Ø±Ù†Ú¯ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø³ÙÛŒØ¯ Ø¨Ø§ Ø´ÙØ§ÙÛŒØª 0.6 */
    backdrop-filter: blur(20px); /* Ø¨Ù„ÙˆØ± Ø¨ÛŒØ´ØªØ± */
    border: none; 
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); 
    border-radius: 8px;
    padding: 0; 
    position: relative;
    overflow: hidden; 
    display: flex; flex-direction: column;
    transition: box-shadow 0.3s;
}
.bookmark-card:hover {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.25);
}
.dragging { opacity: 0.8; z-index: 100; }

/* -------------------- Ù‡Ø¯Ø± Ú©Ø§Ø±Øª (Header) -------------------- */
.card-header {
    display: flex; flex-direction: row; 
    justify-content: space-between; align-items: center;
    border-bottom: 1px solid rgba(0,0,0,0.1); 
    padding: 2px 10px; /* Ú©Ø§Ù‡Ø´ Ù¾Ø¯ÛŒÙ†Ú¯ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ø§Ø±ØªÙØ§Ø¹ Ù‡Ø¯Ø± */
    min-height: 25px; 
    cursor: default; 
    user-select: none;
}

.card-title {
    flex-grow: 1; text-align: right; 
    margin: 0 5px;
    font-size: 1.1em; /* ÙÙˆÙ†Øª Ø¨Ø²Ø±Ú¯ØªØ± */
    color: #333; font-weight: bold;
    cursor: default; padding: 2px 5px; border-radius: 4px;
    order: 1; /* Ø¹Ù†ÙˆØ§Ù† Ø¨ÛŒÙ† Ø¯Ú©Ù…Ù‡ Ø¯Ø±Ú¯ Ùˆ Ù„Ø¨Ù‡ Ø±Ø§Ø³Øª Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ø¯ */
}
.editing-mode .card-title {
    cursor: text; background: rgba(255,255,255,0.8); border: 1px dashed #777;
}

/* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ù‡Ø¯Ø± (ÙÙ‚Ø· Drag) */
.card-btn {
    width: 24px; height: 24px; border-radius: 50%; border: none;
    display: flex; justify-content: center; align-items: center; cursor: pointer;
    font-size: 1.1em; 
    opacity: 0; 
    pointer-events: none; transition: opacity 0.2s;
}
.editing-mode .card-btn { opacity: 0.6; pointer-events: auto; }
.editing-mode .card-btn:hover { opacity: 1; }

.btn-drag { background: transparent; color: #555; order: 2; cursor: grab; font-size: 1.4em; } /* Ø¯Ú©Ù…Ù‡ Ø¯Ø±Ú¯ Ø¯Ø± Ø³Ù…Øª Ø±Ø§Ø³Øª Ù‡Ø¯Ø± */
.dragging .btn-drag { cursor: grabbing; }

/* -------------------- Ù…Ø­ØªÙˆØ§ÛŒ Ú©Ø§Ø±Øª (Content) -------------------- */
.card-content { 
    flex-grow: 1; 
    overflow-y: auto; 
    overflow-x: hidden; /* Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø§Ø³Ú©Ø±ÙˆÙ„ Ø§ÙÙ‚ÛŒ Ù…Ø­ØªÙˆØ§ */
    height: calc(100% - 37px); 
    box-sizing: border-box;
}

/* Ú©Ø§Ù†ØªÛŒÙ†Ø± Ú©Ø§Ø´ÛŒâ€ŒÙ‡Ø§ (Tiles Container) */
.bookmark-tiles {
    display: grid; 
    /* ØªÙ†Ø¸ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø¯Ùˆ Ø³ØªÙˆÙ† Ø¨Ø§ Ø¹Ø±Ø¶ Ø­Ø¯Ø§Ù‚Ù„ Û±Û¶Û° Ù¾ÛŒÚ©Ø³Ù„ */
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); 
    gap: 5px; 
    padding: 5px; /* Ù¾Ø¯ÛŒÙ†Ú¯ Ø§Ø·Ø±Ø§Ù Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø¨Ø±Ø§ÛŒ ÙØ§ØµÙ„Ù‡ Ø§Ø² Ù„Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Øª */
    overflow-y: auto; 
    overflow-x: hidden; 
    /*width: 100%;*/
}

/* -------------------- Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ù„ÛŒØ³Øª (Tile) -------------------- */
.tile {
    display: flex; 
    /* ğŸš¨ Ø§ØµÙ„Ø§Ø­: Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¬Ù‡Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶ (Ø¢ÛŒÚ©ÙˆÙ† Ø³Ù…Øª Ø±Ø§Ø³Øª) Ø¯Ø± RTL */
    flex-direction: row-reverse; 
    align-items: center; 
    justify-content: space-between; 
    height: 30px; 
    width: 100%; 
    padding: 2px 3px; /* Ù¾Ø¯ÛŒÙ†Ú¯ Ø¯Ø§Ø®Ù„ÛŒ Ø¢ÛŒØªÙ… (ÙØ§ØµÙ„Ù‡ Ù†Ø§Ù… Ø§Ø² Ø¢ÛŒÚ©ÙˆÙ†) */
    
    /* Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ø³ÙÛŒØ¯ Ø®Ø§Ù„Øµ Ø¨Ø±Ø§ÛŒ Ø¨ÙˆÚ©Ù…Ø§Ø±Ú©â€ŒÙ‡Ø§ */
    background-color: #fff; 
    position: relative;
    border: 1px solid #eee; 
    border-radius: 4px;
    text-decoration: none;
    color: inherit;
    transition: background-color 0.1s, box-shadow 0.1s, transform 0.1s;
    overflow: hidden; 
    white-space: nowrap; 
    box-sizing: border-box;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
.tile:hover {
    background-color: #f0f0f0;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15); 
    transform: translateY(-1px);
}
/* ğŸš¨ Ø§ØµÙ„Ø§Ø­: Ø±Ù†Ú¯ Ù¾Ø³ Ø²Ù…ÛŒÙ†Ù‡ Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ */
.tile-folder { 
    background-color: #fffbe0; /* Ø²Ø±Ø¯ Ú©Ù…Ø±Ù†Ú¯ */
} 

.tile-icon { 
    width: 25px !important; 
    height: 25px !important; 
    object-fit: contain; 
    flex-shrink: 0;
	/* ğŸš¨ Ø§ÙØ²ÙˆØ¯Ù† Ù„Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ø¯ (Ù…Ø±Ø¨Ø¹ Ù„Ø¨Ù‡ Ú¯Ø±Ø¯) */
    border-radius: 8px;
}
.tile-name {
    overflow: hidden;
    text-overflow: ellipsis; 
    flex-grow: 1; 
    /* ğŸš¨ Ú©Ø§Ù‡Ø´ Ù…Ø§Ø±Ø¬ÛŒÙ†â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù†Ø²Ø¯ÛŒÚ© Ø´Ø¯Ù† Ø¨Ù‡ Ù„Ø¨Ù‡â€ŒÙ‡Ø§ */
    margin-inline-start: 3px; /* ÙØ§ØµÙ„Ù‡ Ø§Ø² Ø¢ÛŒÚ©ÙˆÙ† */
    margin-inline-end: 1px; /* ÙØ§ØµÙ„Ù‡ Ø§Ø² Ø¯Ú©Ù…Ù‡ ÙˆÛŒØ±Ø§ÛŒØ´ */
    text-align: right; 
}

/* Ø¢ÛŒÚ©ÙˆÙ† ÙˆÛŒØ±Ø§ÛŒØ´ (Ù…Ø¯Ø§Ø¯) */
.tile .tile-edit-btn {
    /* ğŸš¨ Ø§ØµÙ„Ø§Ø­ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¨Ù‡ Ú¯ÙˆØ´Ù‡ Ø¨Ø§Ù„Ø§-Ú†Ù¾ */
    position: absolute; 
    top: 0; 
    left: 0; /* Ø¯Ø± RTL Ø§ÛŒÙ† Ú¯ÙˆØ´Ù‡ Ø¨Ø§Ù„Ø§ Ú†Ù¾ Ø§Ø³Øª */
    
    width: 25px; /* Ø¨Ø²Ø±Ú¯ØªØ± Ø´Ø¯Ù† Ø¨Ø±Ø§ÛŒ Ú©Ù„ÛŒÚ© Ø¢Ø³Ø§Ù†â€ŒØªØ± */
    height: 25px;
    background: rgba(30, 160, 160, 0.8); /* Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù†ÛŒÙ…Ù‡â€ŒØ´ÙØ§Ù Ø¨Ø±Ø§ÛŒ ÙˆØ¶ÙˆØ­ */
    border-radius: 10px; /* Ú¯Ø±Ø¯ Ú©Ø±Ø¯Ù† Ú¯ÙˆØ´Ù‡ Ù¾Ø§ÛŒÛŒÙ†-Ø±Ø§Ø³Øª */
    
    opacity: 0;
    pointer-events: none;
    flex-shrink: 0;
    font-size: 1em;
    color: #444;
    display: flex; /* Ø¨Ø±Ø§ÛŒ ØªØ±Ø§Ø² Ú©Ø±Ø¯Ù† Ù…Ø­ØªÙˆØ§ÛŒ Ù…Ø¯Ø§Ø¯ */
    justify-content: center;
    align-items: center;
    
    transition: opacity 0.2s, background 0.2s;
    z-index: 5;
}

.editing-mode .tile .tile-edit-btn {
    opacity: 1; /* ğŸ’¡ Ø§ÛŒÙ† Ù‚Ø§Ù†ÙˆÙ† Ø¯Ø± Ø­Ø§Ù„Øª ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ù† Ø±Ø§ Ø«Ø§Ø¨Øª ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ */
    pointer-events: auto;
}

.editing-mode .tile .tile-edit-btn {
    opacity: 1;
    pointer-events: auto;
}
.tile:hover .tile-edit-btn:hover {
    background: #eee;
    color: #000;
}

/* -------------------- Ø±ÛŒØ³Ø§ÛŒØ² Ù‡Ù†Ø¯Ù„ (Resize Handle) -------------------- */
.resize-handle {
    position: absolute; bottom: 0; 
    left: 0; /* Ù‡Ù†Ø¯Ù„ Ø¯Ø± Ú¯ÙˆØ´Ù‡ Ù¾Ø§ÛŒÛŒÙ† Ú†Ù¾ */
    right: auto; 
    
    width: 15px; height: 15px;
    background: rgba(40, 167, 69, 0.7); /* Ø±Ù†Ú¯ Ø³Ø¨Ø² */
    border-radius: 0 5px 0 8px; 
    cursor: nesw-resize; 
    opacity: 0; 
    pointer-events: none;
    z-index: 10;
}
.editing-mode .resize-handle { opacity: 1; pointer-events: auto; }


/* -------------------- Breadcrumbs Ùˆ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ -------------------- */
.card-breadcrumbs { 
    font-size: 1.1em; 
    color: #666; 
    padding: 4px 15px 6px; 
    margin: 0; 
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: flex-start; /* Ø´Ø±ÙˆØ¹ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø§Ø² Ø±Ø§Ø³Øª Ùˆ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ú†Ù¾ */
    white-space: nowrap;
}

.crumb { 
    cursor: pointer; 
    text-decoration: underline; 
    color: #333; 
    flex-shrink: 0;
}
.crumb:hover {
    color: #000;
}

/* ğŸ›‘ğŸš¨ Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¯Ø± Breadcrumbs (Ø§ÙØ²ÙˆØ¯Ù† Ùˆ Ø­Ø°Ù) */
.card-control-btn {
    margin-inline-start: 5px; 
    
    /* Ø¯Ø§ÛŒØ±Ù‡ Ø³ÙÛŒØ¯ Ø¨Ø§ Ø³Ø§ÛŒÙ‡ */
    width: 20px; 
    height: 20px; 
    border: none;
    background: #fff; 
    border-radius: 50%; 
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2); 
    
    cursor: pointer;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    opacity: 0.9;
    transition: opacity 0.1s, transform 0.1s;
}

.card-control-btn:hover {
    opacity: 1;
    transform: scale(1.05);
}

.btn-del-crumb { 
    color: #dc3545; 
    font-weight: bold; 
    font-size: 1em; /* Ø³Ø§ÛŒØ² Ø¢ÛŒÚ©ÙˆÙ† âŒ */
}
.btn-add-crumb { 
    color: #28a745; 
    font-weight: bold; 
    font-size: 1em; /* Ø³Ø§ÛŒØ² Ø¢ÛŒÚ©ÙˆÙ† + */
    /*padding-bottom: 2px; /* ØªÙ†Ø¸ÛŒÙ… ØªØ±Ø§Ø² Ø¹Ù…ÙˆØ¯ÛŒ Ø¨Ø±Ø§ÛŒ + */
}

/* ------------------------------------------------------------------ */
/* Ø§ØµÙ„Ø§Ø­Ø§Øª Scrollbar */
/* ------------------------------------------------------------------ */

/* 1. Ø¨Ø±Ø§ÛŒ Ù…Ø±ÙˆØ±Ú¯Ø±Ù‡Ø§ÛŒ Webkit (Ú©Ø±ÙˆÙ…ØŒ Ø³Ø§ÙØ§Ø±ÛŒ) */
.card-content::-webkit-scrollbar, 
.bookmark-tiles::-webkit-scrollbar {
	display: none; /* ğŸš¨ Ø§ØµÙ„ÛŒâ€ŒØªØ±ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯Ù† Ø¯Ø± Ú©Ø±ÙˆÙ… Ùˆ Ø³Ø§ÙØ§Ø±ÛŒ */
    width: 0px; /* Ø¹Ø±Ø¶ Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ø§Ø± Ø¹Ù…ÙˆØ¯ÛŒ */
    height: 0px; 
}

.card-content::-webkit-scrollbar-track,
.bookmark-tiles::-webkit-scrollbar-track {
    background: transparent; /* Ø¨ÛŒ Ø±Ù†Ú¯ Ú©Ø±Ø¯Ù† Ù¾Ø³ Ø²Ù…ÛŒÙ†Ù‡ Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ø§Ø± */
}

.card-content::-webkit-scrollbar-thumb,
.bookmark-tiles::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.3); /* Ø±Ù†Ú¯ Ø¯Ø³ØªÙ‡ Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ø§Ø± */
    border-radius: 4px;
    border: 1px solid transparent; 
}

.card-content::-webkit-scrollbar-thumb:hover,
.bookmark-tiles::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.5);
}

/* 2. Ø¨Ø±Ø§ÛŒ Firefox */
.card-content {
    scrollbar-width: none; 
    scrollbar-color: rgba(0, 0, 0, 0.3) transparent; 
}


/* ------------------------------------------------------------------ */
/* Ù…Ù†ÙˆÛŒ Ú©Ù†ØªØ±Ù„ Ø§ØµÙ„ÛŒ Ùˆ Modal (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) */
/* ------------------------------------------------------------------ */

#control-menu {
    position: fixed; bottom: 20px; right: 20px; display: flex; flex-direction: row-reverse; align-items: center; z-index: 1000;
}

.main-btn {
    width: 40px; height: 40px; border-radius: 50%; background: #007bff; color: white; border: none; font-size: 1.2em; cursor: pointer; margin-right: 5px; box-shadow: 0 4px 8px rgba(0,0,0,0.3); z-index: 2; display: flex; justify-content: center; align-items: center;
}
/* ... Ø¨Ù‚ÛŒÙ‡ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ù†ÙˆÛŒ Ú©Ù†ØªØ±Ù„ Ùˆ Modal ... */

#sub-controls {
    display: flex; flex-direction: row-reverse; flex-wrap: wrap; 
    align-items: center; transition: all 0.3s ease; margin-left: 10px; 
}
.hidden-controls {
    opacity: 0; pointer-events: none; transform: translateX(10px); 
}
.visible-controls {
    opacity: 1; pointer-events: auto; transform: translateX(0);
}
.sub-btn {
    width: 40px; height: 40px; border-radius: 50%; background: #ffffff; color: white; border: none; font-size: 1.2em; cursor: pointer; margin-right: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); display: flex; justify-content: center; align-items: center;
    margin-top: 5px;
    margin-bottom: 5px;
}
.sub-btn:hover { background: #5a6268; }

.modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 2000;
}
.modal-content {
    background: white; padding: 20px; border-radius: 8px; width: 300px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}
.hidden { display: none !important; }
.modal-content label { display: block; margin-top: 10px; }
.modal-content input, .modal-content select { width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 4px; }
.modal-buttons { margin-top: 15px; display: flex; justify-content: flex-end; gap: 5px; }
.btn-success { background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; transition: background 0.2s;}
.btn-danger { background: #dc3545; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; transition: background 0.2s;}
.btn-secondary { background: #6c757d; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; transition: background 0.2s;}
.btn-success:hover { background: #218838; }
.btn-danger:hover { background: #c82333; }
.btn-secondary:hover { background: #5a6268; }

/* ------------------------------------------ */
/* Compact Vertical Grid View                 */
/* ------------------------------------------ */

.view-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(85px, 1fr)) !important;
    gap: 8px !important;
}

.tile.tile-grid-mode {
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important;
    align-items: center !important;

    width: 100px !important;
    height: 70px !important;
    padding: 5px !important;

    background: #fff;
    border-radius: 10px;
    border: 1px solid #ddd;

    text-align: center !important;
    white-space: nowrap !important; /* ÙÙ‚Ø· ÛŒÚ© Ø®Ø· */
    overflow: hidden !important;
    text-overflow: ellipsis !important;

    box-shadow: 0 1px 3px rgba(0,0,0,0.12);
    position: relative;
}

.tile.tile-grid-mode:hover {
    transform: translateY(-2px);
    box-shadow: 0 3px 8px rgba(0,0,0,0.20);
}

.tile.tile-grid-mode .tile-icon {
    width: 36px !important;
    height: 36px !important;
    margin-bottom: 5px;
    border-radius: 8px;
    object-fit: contain;
}

.tile.tile-grid-mode .tile-name {
    margin-top: 3px !important;
    text-align: center;
    width: 100%;
    font-size: 1em;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
}

.tile.tile-grid-mode .tile-edit-btn {
    top: 4px;
    left: 4px;
}
